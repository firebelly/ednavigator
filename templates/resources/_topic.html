{% extends (craft.app.request.isAjax and not craft.app.request.isLivePreview) ? "_ajax-layout" : "_layout" %}

{% set limit = null %}
{% set params = { limit: limit, relatedTo: category } %}

{% set title = "Resources: "~category.title %}
{% set bodyClass = 'page page-resources page-topic' %}

{% block content %}

  <section class="intro-section with-headline">
    <h1 class="page-headline">
      {{ 'topic' | t | capitalize }}:<br> {{ category.title }}
    </h1>
  </section>

  {% include "resources/_filter" %}

  {% set articles = craft.entries(params) %}

  <div class="article-list">

    {% for article in articles.all() %}
      {% include "resources/_article" %}
    {% endfor %}

  </div>

{% endblock %}